{% ckan_extends %}


{% block package_basic_fields_tags %}
  {% set tag_attrs = {'data-module': 'autocomplete', 'data-module-tags': '', 'data-module-source': '/api/2/util/tag/autocomplete?incomplete=?'} %}
  {{ form.input('tag_string', id='field-tags', label=_('Tags'), placeholder=_('eg. vegetation, soil carbon, possums'), value=data.tag_string, error=errors.tags, classes=['control-full'], attrs=tag_attrs) }}
{% endblock %}


{% block package_basic_fields_license %}
<div class="control-group">
  {% set error = errors.license_id %}
  <label class="control-label" for="field-license">{{ _("License") }}</label>
  <div class="controls">
    <select id="field-license" name="license_id" data-module="autocomplete">
      {% for license_desc, license_id in licenses|sort if license_desc  %}
        <option value="{{ license_id }}" {% if data.get('license_id', 'notspecified') == license_id %}selected="selected"{% endif %}>{{ license_desc }}</option>
      {% endfor %}
    </select>
    {% if error %}<span class="error-block">{{ error }}</span>{% endif %}
    <span class="info-block info-inline">
      <i class="icon-info-sign"></i>
      {% trans %}
        License definitions and additional information can be found
        at <a href="http://creativecommons.org.nz/licences/licences-explained/">Creative Commons NZ</a>
      {% endtrans %}
    </span>
  </div>
</div>
{% endblock %}


{% block package_basic_fields_custom %}
  {{ form.input('publisher', label=_('Publisher'), id='field-publisher', placeholder=_('e.g. Landcare Research NZ Ltd'), value=data.publisher, error=errors.publisher, classes=['control-medium']) }}

  {{ form.input('publication_year', label=_('Publication Year'), id='field-publication_year', placeholder=_('YYYY'), value=data.publication_year, error=errors.publication_year, classes=['control-medium']) }}

  {{ form.input('start_date', label=_('Start Date'), id='field-start_date', placeholder=_('YYYY, YYYY-MM, or YYYY-MM-DD'), value=data.start_date, error=errors.start_date, classes=['control-medium']) }}
  <p class="help-block">The start date the data was collected/created.</p>

  {{ form.input('end_date', label=_('End Date'), id='field-end_date', placeholder=_('YYYY, YYYY-MM, or YYYY-MM-DD'), value=data.end_date, error=errors.end_date, classes=['control-medium']) }}
  <p class="help-block">The end date the data was collected/created.</p>

  {{ form.input('doi', label=_('DOI'), id='field-doi', placeholder=_('e.g. http://dx.doi.org/10.7931/J2PK0D34  or doi: 10.7931/J2PK0D34'), value=data.doi, error=errors.doi, classes=['control-medium']) }}
{% endblock %}
